Модули CommonJS
CommonJS — это набор стандартов, используемых для реализации модулей на JavaScript. Проект был запущен инженером Mozilla Кевином Дангуром в 2009 году.

CommonJS в основном используется в серверных JS-приложениях с Node, поскольку браузеры не поддерживают использование CommonJS.

В качестве побочного комментария, Node раньше поддерживал только CommonJS для реализации модулей, но в настоящее время он также поддерживает ESmodules, что является более современным подходом.

Итак, давайте посмотрим, как CommonJS выглядит в реальном коде.

Для реализации модулей вам сначала потребуется приложение Node на вашем компьютере. Поэтому создайте его, запустив npm init -y.

Сначала давайте создадим main.jsфайл с простой функцией.

const testFunction = () => {
console.log('Im the main function')
}

testFunction()
Хорошо, теперь предположим, что мы хотим вызвать другую функцию из нашего основного файла, но нам не нужна функция в нем, поскольку она не является частью нашей основной функции. Для этого создадим mod1.jsфайл и добавим в него этот код:

const mod1Function = () => console.log('Mod1 is alive!')
module.exports = mod1Function
module.exportsэто ключевое слово, которое мы используем для объявления всего, что мы хотим экспортировать из этого файла.

Чтобы использовать эту функцию в нашем main.jsфайле, мы можем сделать это следующим образом:

mod1Function = require('./mod1.js')

const testFunction = () => {
console.log('Im the main function')
mod1Function()
}

testFunction()
Посмотрите, что мы объявляем все, что хотим использовать, а затем назначаем это requireфайлу, который хотим использовать. Кусок пирога. ;)

Если мы хотим экспортировать более одной вещи из одного модуля, мы можем сделать это следующим образом:

const mod1Function = () => console.log('Mod1 is alive!')
const mod1Function2 = () => console.log('Mod1 is rolling, baby!')

module.exports = { mod1Function, mod1Function2 }
И в файле main.js мы можем использовать обе функции следующим образом:

({ mod1Function, mod1Function2 } = require('./mod1.js'))

const testFunction = () => {
console.log('Im the main function')
mod1Function()
mod1Function2()
}

testFunction()
И это почти все. Довольно просто, правда? Это простой, но мощный инструмент для использования. знак равно
